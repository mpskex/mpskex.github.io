# æ–¹å‘å¯¼æ•°ã€æå¤§å€¼å®šç† å’Œ å¯å¾®æ€§

ï¼ˆæ¥ç€ä¸€å¹´å‰çš„ä¸Šä¸€æœŸï¼‰

æœ¬èŠ‚æˆ‘ä»¬æ¥ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ**æ–¹å‘å¯¼æ•°**ã€**æ¬¡å¯å¾®æ€§** å’Œ **æœ€ä¼˜åŒ–æ¡ä»¶**ã€‚è¿˜è®°å¾—ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»çš„æ¬¡æ¢¯åº¦ $\partial f$ å—ï¼Ÿæœ‰äº†æ¬¡æ¢¯åº¦æˆ‘ä»¬å°±å¯ä»¥é‡æ–°æŠŠå®åˆ†æä¸­çš„å¯å¾®ã€æ¢¯åº¦å’Œå¯¼æ•°è”ç³»åœ¨ä¸€èµ·ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å‡¸åˆ†æé‡Œé¢æ˜¯å¦‚ä½•æ‰©å±•è¿™äº›æ•°å­¦å·¥å…·çš„å§ã€‚

## æ–¹å‘å¯¼æ•°

***(æ–¹å‘å¯¼æ•°çš„å®šä¹‰)*** å¯¹äºä¸€ä¸ªå‡¸çš„çœŸå‡½æ•° $f:x\rightarrow (-\infty,\infty]$ï¼Œ(proper convex) å¦‚æœæé™ï¼š

$$
f'(x;d):=\lim_{\alpha\to0^+}\frac{f(x+\alpha d)-f(x)}{\alpha}
$$

å­˜åœ¨ï¼Œé‚£ä¹ˆæ–¹å‘å¯¼æ•° $f'(x;d)$ åˆ™å­˜åœ¨ã€‚

æ–¹å‘å¯¼æ•°å¯ä»¥ç†è§£ä¸ºå¸¦æœ‰æ–¹å‘çš„å¯¼æ•°ã€‚è¿™é‡Œçš„æ–¹å‘å°±æ˜¯å®šä¹‰ä¸­çš„ $d$ ã€‚æ ¹æ®ä¸åŒçš„ç¬¦å·å¯ä»¥æ§åˆ¶å¯¼æ•°çš„æ–¹å‘ã€‚ä»¥å¾€çš„å¯¼æ•°å®šä¹‰çš„æ˜¯ä¸€æ¡ä¸å‡½æ•°ç›¸åˆ‡çš„ç›´çº¿ï¼Œè€Œæ–¹å‘å¯¼æ•°åˆ™æè¿°çš„æ˜¯ä¸€æ¡å°„çº¿ã€‚æ‰€ä»¥å¯ä»¥æè¿°æ›´åŠ å®½æ¾çš„æƒ…å†µï¼Œé‚£å°±æ˜¯ä¹Ÿè®¸è¯¥ç‚¹å¹¶ä¸å¯å¾®ï¼Œä½†æ˜¯å´å­˜åœ¨æ–¹å‘å¯¼æ•°ã€‚

**(å‡¸å‡½æ•°çš„æ–¹å‘å¯¼æ•°å­˜åœ¨æ€§)** å¦‚æœå‡½æ•° $f$ æ˜¯å‡¸çš„ï¼Œåˆ™åœ¨ $f$ çš„å®šä¹‰åŸŸå†…éƒ¨çš„ä»»æ„å€¼ ( $x\in\text{int}\ \text{dom}f$ï¼‰æ–¹å‘å¯¼æ•° $f'(x;d)$ éƒ½å­˜åœ¨ï¼Œä¸”ç­‰äº $\inf_{\alpha>0}\frac{f(x+\alpha d) - f(x)}{\alpha}$ ã€‚

è¯æ˜ï¼š

é¦–å…ˆæˆ‘ä»¬å£°æ˜ $\alpha$ çš„ä¸Šç¡®ç•Œä¸º $\beta:=\inf\alpha$ï¼ŒåŒæ—¶ $\lambda := \frac{\alpha}{\beta}$ï¼Œ$\Phi_d(\alpha):=\frac{f(x+\alpha d)-f(x)}{\alpha}$ã€‚

å› ä¸ºå‡½æ•° $f$ ä¸ºå‡¸å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æˆ‘ä»¬è®¾å®šçš„ $\lambda$ ä»£å…¥å‡¸å‡½æ•°å®šä¹‰ï¼š

$$
\begin{aligned}
f(x+\alpha d) &= f(x+\lambda\beta d) = f(\lambda(x+\beta d)+(1-\lambda)x)\\
&\le \lambda f(x+\beta d)+(1-\lambda)f(x)\\
&\le \lambda (f(x+\beta d) - f(x)) + f(x)\\
\end{aligned}
$$

ä¹‹åæˆ‘ä»¬ç»§ç»­åŒ–ç®€ï¼Œå¯ä»¥å¾—åˆ°ï¼š

$$
\begin{aligned}
f(x+\alpha d) &\le \lambda (f(x+\beta d) - f(x)) + f(x)\\
f(x+\alpha d) - f(x) &\le \frac{\alpha}{\beta} (f(x+\beta d) - f(x))\\
\frac{f(x+\alpha d) - f(x)}{\alpha} &\le \frac{ (f(x+\beta d) - f(x))}{\beta}\\
\Phi_d(\alpha)&\le\Phi_d(\beta)
\end{aligned}
$$

ä¹Ÿå°±ç›¸å½“äº $f'(x;d):=\inf_{\alpha>0}\frac{f(x+\alpha d)-f(x)}{\alpha}$ã€‚ $\blacksquare$

***ï¼ˆå‡¸å‡½æ•°æ–¹å‘å¯¼æ•°çš„æ€§è´¨ï¼‰***æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å‚è€ƒ [Amir Beck æ•™ç§‘ä¹¦](http://archive.siam.org/books/mo25/) ä¸­çš„ å®šç† 3.21 - 3.25

1. å‡¸å‡½æ•°çš„æ–¹å‘å¯¼æ•°æ˜¯ **å‡¸(convex)** çš„
2. $f'(x;\beta d)=\beta f'(x;d)$
3. å¯¹äºå‡½æ•° $f(x):=\max_{i\in I}f_i$ ï¼ˆå‡½æ•°é›†åˆ $I$ æœ‰ç©·ï¼‰ï¼Œå…¶æ–¹å‘å¯¼æ•°ä¹Ÿä¸€æ ·æ˜¯è¿™äº›å‡½æ•°çš„æœ€å¤§å€¼  $f'(x;d)=\max\{f_i(x;d)\}$
4. $f'(x;d)\le f(x+d)-f(x)$ï¼Œå› ä¸ºæˆ‘ä»¬ä¹‹å‰è¯æ˜äº†æœ‰ 

$$
f'(x;d)=\inf_{\alpha>0}\frac{f(x+\alpha d) - f(x)}{\alpha}\le\Phi_d(1)=f(x+d)-f(x)
$$

## æå¤§å€¼å®šç† ï¼ˆMax Formulaï¼‰

æ¥ä¸‹æ¥ï¼Œæœ‰äº†æ–¹å‘å¯¼æ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºæå¤§å€¼å®šç†ã€‚**æå¤§å€¼å®šç†é“¾æ¥äº†æ¬¡æ¢¯åº¦ä»¥åŠæ–¹å‘å¯¼æ•°ï¼Œæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å®šç†ã€‚**æˆ‘ä»¬åé¢ä¼šå¤šæ¬¡ç”¨åˆ°æå¤§å€¼å®šç†ã€‚

***ï¼ˆæå¤§å€¼å®šç†ï¼‰***å¯¹äºä¸€ä¸ªå‡¸çš„çœŸå‡½æ•° $f:X\to(-\infty,\infty]$ï¼Œ å¯¹äºæ‰€æœ‰ $x\in \text{int}\ \text{dom}f$ï¼Œæˆ‘ä»¬éƒ½æœ‰ 

$$
f'(x;d)=\max\{\langle g,d\rangle|g\in\partial f(x)\}=\sup_{g\in\partial f(x)}\langle g, d\rangle
$$

è¯æ˜ï¼šä¸ºäº†è¯æ˜ç›¸ç­‰ï¼Œæˆ‘ä»¬ä¸å¦¨ä» å¤§äºç­‰äº å’Œ å°äºç­‰äº ä¸¤éå¼€å§‹æ¨å¯¼ã€‚

**å¯¹äº â€œ$\ge$â€œï¼Œ**

å› ä¸º  $g\in\partial f(x)$ ä¸ºæ¬¡æ¢¯åº¦ï¼Œæ‰€ä»¥å¯¹ $\forall \alpha > 0$  æˆ‘ä»¬æ ¹æ®æ¬¡æ¢¯åº¦å®šä¹‰å¯ä»¥å¾—åˆ° 

$$
\begin{aligned}
f(x)+\langle g, \alpha d\rangle &\le f(x+\alpha d) \\
\langle g, d\rangle&\le \frac{f(x+\alpha d)-f(x)}{\alpha}\\
\langle g, d\rangle&\le f'(x;d)\\
\sup_{g\in\partial f(x)} \langle g, d\rangle&\le f'(x;d)
\end{aligned}
$$

**å¯¹äº â€œ$\le$â€**

æˆ‘ä»¬å¯ä»¥è®¾ $h(w):=f'(x;w)$ï¼Œå› ä¸ºå‡½æ•° $f$ æ˜¯å‡¸å‡½æ•°ï¼Œæ‰€ä»¥å…¶æ–¹å‘å¯¼æ•°ä¹Ÿä¸ºå‡¸ã€‚åŒæ—¶å‡½æ•°å’Œå‡½æ•°æ¬¡æ¢¯åº¦çš„å®šä¹‰åŸŸ $\text{dom} h = \text{dom}\partial h = X$ã€‚

ä¸å¦¨è®¾ $\tilde{g}\in\partial h(d),\ v \in X$ï¼Œé‚£ä¹ˆå¯¹äº $\forall \alpha\ge 0$ï¼Œæˆ‘ä»¬åˆ™æœ‰

$$
\begin{aligned}
\alpha f'(x;v)=f'(x;\alpha v)=h(\alpha v)&\ge h(d) + \langle \tilde{g}, \alpha v-d\rangle\\
\alpha f'(x;v)&\ge f'(x;d)+\langle \tilde{g}, \alpha v\rangle -\langle \tilde{g}, d\rangle\\
\alpha\big(f'(x;v)-\langle \tilde{g}, v\rangle\big)&\ge f'(x;d)-\langle \tilde{g}, d\rangle\\
\Leftrightarrow 0\le\frac{1}{\alpha} &\le\frac{f'(x;d)-\langle \tilde{g}, d\rangle}{f'(x;v)-\langle \tilde{g}, v\rangle}\\
\Leftrightarrow f'(x;d)&\ge\langle \tilde{g}, d\rangle
\end{aligned}
$$

æ‰€ä»¥æˆ‘ä»¬æ ¹æ®å‡¸å‡½æ•°çš„æ–¹å‘å¯¼æ•°çš„æ€§è´¨ä¸­çš„ç¬¬å››æ¡å¯ä»¥æ¨å¯¼å‡ºï¼š

$$
\begin{aligned}
f(y)&\ge f(x)+f'(x;y-x)\\
f(y)&\ge f(x) + h(y-x) \ge f(x)+\langle \tilde{g}, y-x\rangle \qquad \forall \tilde{g}\in\partial h(d)
\end{aligned}
$$

å› æ­¤å¯ä»¥å¾—å‡º $\tilde g \in \partial f(x)$ ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š

$$
f'(x;d)\le\langle \tilde g, d\rangle \le \sup_{g\in\partial f(x)}\langle g,d\rangle \le f'(x;d)
$$

å› æ­¤ï¼Œ

$$
f'(x;d)=\max\{\langle g,d\rangle|g\in\partial f(x)\}=\sup_{g\in\partial f(x)}\langle g, d\rangle\qquad\blacksquare
$$

## å¯å¾®æ€§

æˆ‘ä»¬æ¥å›å¿†ä¸€ä¸‹é«˜æ•°ä¸­çš„å¯å¾®çš„å®šä¹‰ï¼š

å¦‚æœä¸€ä¸ªå‡½æ•° $f$ æ˜¯å¯å¾®çš„ (differential)ï¼Œé‚£ä¹ˆå¯¹äºåœ¨å®šä¹‰åŸŸå†…éƒ¨çš„ $x\in\text{int}\ \text{dom}f$ï¼Œæˆ‘ä»¬æœ‰

$$
(\exists g\in X) \qquad \lim_{h\to 0}\frac{f(x+h)-f(x)-\langle g,h\rangle}{\|h\|}=0
$$

å½“ $g$ æ˜¯å”¯ä¸€çš„æ—¶å€™ï¼Œé‚£ä¹ˆå‡½æ•° $f$ åœ¨ $x$ ä¸Šæ˜¯å¯å¾®çš„ï¼Œ$g$ æ˜¯å‡½æ•° $f$ åœ¨ $x$ ä¸Šçš„æ¢¯åº¦ $\nabla f(x)$ ã€‚

***ï¼ˆå¯å¾®å¤„çš„æ–¹å‘æ¢¯åº¦ï¼‰***å¦‚æœå‡½æ•° $f$ åœ¨ $x$ ä¸Šæ˜¯å¯å¾®çš„ï¼Œ$f'(x;d)=\langle \nabla{f(x)},d \rangle$ ã€‚

è¯æ˜ï¼š å¾ˆæ˜æ˜¾ï¼Œåœ¨ $d=0$ çš„æ—¶å€™ ç­‰å¼æˆç«‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸å¦¨è®¾ $d\neq 0$ï¼Œé‚£ä¹ˆæ ¹æ®å¾®åˆ†å®šä¹‰ï¼š

$$
\begin{aligned}
0&=\lim_{\alpha\to 0^+}\frac{f(x+\alpha d)-f(x)-\langle \nabla f(x), \alpha d\rangle}{\alpha \|d\|}\\
&=\lim_{\alpha\to 0^+}\bigg[\frac{f(x+\alpha d)-f(x)}{\alpha \|d\|} - \frac{\langle \nabla f(x), d\rangle}{ \|d\|}\bigg]
\end{aligned}
$$

æ‰€ä»¥ï¼Œç»“åˆæ–¹å‘å¯¼æ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°

$$
\lim_{\alpha\to 0^+}\frac{f(x+\alpha d)-f(x)}{\alpha \|d\|} - \frac{\langle \nabla f(x), d\rangle}{\|d\|}=\frac{f'(x;d)}{\|d\|}-\frac{\langle \nabla f(x), d\rangle}{\|d\|}
$$

ä¸éš¾å¾—åˆ° $f'(x;d)=\langle \nabla f(x), d\rangle$ ã€‚ $\blacksquare$

***(å¯å¾®å¤„çš„æ¬¡æ¢¯åº¦)*** å¯¹äºä¸€ä¸ªå‡¸çš„çœŸå‡½æ•° $f:X\to(-\infty,\infty]$ã€‚å¯¹äº $x\in\text{int}\ \text{dom}f$ï¼Œå¦‚æœ $f$ åœ¨ $x$ ä¸Šå¯å¾®ï¼Œé‚£ä¹ˆå…¶æ¬¡æ¢¯åº¦ä¸ºä¸€ä¸ªå•ç‚¹ (singleton) ä¸” $\partial f(x)=\{\nabla f(x)\}$ ã€‚åä¹‹ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°çš„æ¬¡æ¢¯åº¦ä¸ºå•ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°åœ¨è¯¥å¤„çš„æ¢¯åº¦åˆ™ä¸ºæ¬¡æ¢¯åº¦çš„å”¯ä¸€å…ƒç´ ã€‚

ï¼ˆå·æ‡’å°±ä¸è¯æ˜äº†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å‚è€ƒ  [Amir Beck æ•™ç§‘ä¹¦](http://archive.siam.org/books/mo25/) ä¸­çš„ å®šç† 3.33ã€‚æ„Ÿæ€§æ¥è¯´ï¼Œæ—¢ç„¶æ¬¡æ¢¯åº¦æ˜¯ä¸€ä¸ªå®½æ¾çš„åˆ‡çº¿é›†åˆï¼Œåªè¦å‡½æ•°éƒ½åœ¨åˆ‡çº¿ä¸€ä¾§å°±æ»¡è¶³æ¬¡æ¢¯åº¦çš„å®šä¹‰ï¼šé‚£ä¹ˆå¯¹äºæé™æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¿™äº›åˆ‡çº¿éƒ½å¡Œç¼©æˆä¸€æ¡çš„æ—¶å€™ï¼Œå°±æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„æ¢¯åº¦ã€‚é‚£ä¹ˆæ¢¯åº¦å­˜åœ¨çš„åœ°æ–¹å°±æ˜¯å¯å¾®çš„ã€‚ï¼‰

å¥½äº†æœ¬èŠ‚å†…å®¹å°±åˆ°è¿™é‡Œï¼Œä¸»è¦å¤ä¹ äº†ä¸€ä¸‹å¾®åˆ†å¯¼æ•°å’Œæ¬¡æ¢¯åº¦çš„å®šä¹‰ã€‚å¯¹äºå„ä½è¯»è€…æ¥è¯´å¯èƒ½è¿‡äºåŸºç¡€ï¼Œä½†æ˜¯å¦‚æœç»“åˆå®åˆ†ææ¥çœ‹å‡¸åˆ†æä¸­çš„è¿™äº›å®šä¹‰æ‰©å±•ä¹Ÿæ˜¯ä¸€ç§å¼‚åŸŸé£æƒ…ã€‚å¸Œæœ›å„ä½èƒ½æœ‰æ‰€æ”¶è·ï¼Œæˆ‘ä»¬ä¸‹èŠ‚å†è§ğŸ‘‹ã€‚ä¸‹èŠ‚æˆ‘ä»¬ä¼šä»‹ç» **Lipschitz è¿ç»­æ€§**ã€**æ¬¡æ¢¯åº¦çš„æœ‰ç•Œæ€§** å’Œ **æœ€ä¼˜åŒ–æ¡ä»¶**ã€‚